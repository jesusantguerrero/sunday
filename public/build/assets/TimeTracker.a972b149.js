import{_ as jt}from"./AppLayout.7c972297.js";import{aq as D,a1 as rt,o as d,c as h,d as i,w as m,V,n as _,v,Z,_ as tt,f as Ot,t as g,k as Ft,e as W,a as bt,b as X,F as I,g as j,ar as Ct,r as k,j as O}from"./app.23df93da.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import{f as p}from"./index.dd8eb344.js";import{B as Vt}from"./BulkSelectionBar.fb89f9d9.js";import{p as Ht}from"./index.502596bc.js";import{i as Nt}from"./index.f76ad5d2.js";import"./ConfirmationModal.ad50342b.js";import"./Modal.d0dbf6d1.js";import"./DangerButton.f7d0f6ac.js";import"./SecondaryButton.813947c8.js";import"./DialogModal.4185cfca.js";import"./Button.83f1af01.js";var H={exports:{}},vt={exports:{}},qt=void 0,kt=function(t){return t!==qt&&t!==null},zt=kt,Bt={object:!0,function:!0,undefined:!0},Lt=function(t){return zt(t)?hasOwnProperty.call(Bt,typeof t):!1},At=Lt,Rt=function(t){if(!At(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},Ut=Rt,Pt=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!Ut(t)},Yt=Pt,Gt=/^\s*class[\s{/}]/,Jt=Function.prototype.toString,Kt=function(t){return!(!Yt(t)||Gt.test(Jt.call(t)))},Qt=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},R,it;function Wt(){return it||(it=1,R=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),R}var Xt=function(){},Zt=Xt(),q=function(t){return t!==Zt&&t!==null},U,nt;function te(){if(nt)return U;nt=1;var t=q,e=Object.keys;return U=function(r){return e(t(r)?Object(r):r)},U}var P,st;function ee(){return st||(st=1,P=Wt()()?Object.keys:te()),P}var re=q,z=function(t){if(!re(t))throw new TypeError("Cannot use null or undefined");return t},Y,at;function ie(){if(at)return Y;at=1;var t=ee(),e=z,r=Math.max;return Y=function(o,a){var n,s,c=r(arguments.length,2),S;for(o=Object(e(o)),S=function($){try{o[$]=a[$]}catch(y){n||(n=y)}},s=1;s<c;++s)a=arguments[s],t(a).forEach(S);if(n!==void 0)throw n;return o},Y}var ne=Qt()?Object.assign:ie(),se=q,ae=Array.prototype.forEach,oe=Object.create,le=function(t,e){var r;for(r in t)e[r]=t[r]},ce=function(t){var e=oe(null);return ae.call(arguments,function(r){!se(r)||le(Object(r),e)}),e},G="razdwatrzy",ue=function(){return typeof G.contains!="function"?!1:G.contains("dwa")===!0&&G.contains("foo")===!1},J,ot;function de(){if(ot)return J;ot=1;var t=String.prototype.indexOf;return J=function(e){return t.call(this,e,arguments[1])>-1},J}var me=ue()?String.prototype.contains:de(),F=kt,lt=Kt,xt=ne,Et=ce,E=me,fe=vt.exports=function(t,e){var r,o,a,n,s;return arguments.length<2||typeof t!="string"?(n=e,e=t,t=null):n=arguments[2],F(t)?(r=E.call(t,"c"),o=E.call(t,"e"),a=E.call(t,"w")):(r=a=!0,o=!1),s={value:e,configurable:r,enumerable:o,writable:a},n?xt(Et(n),s):s};fe.gs=function(t,e,r){var o,a,n,s;return typeof t!="string"?(n=r,r=e,e=t,t=null):n=arguments[3],F(e)?lt(e)?F(r)?lt(r)||(n=r,r=void 0):r=void 0:(n=e,e=r=void 0):e=void 0,F(t)?(o=E.call(t,"c"),a=E.call(t,"e")):(o=!0,a=!1),s={get:e,set:r,configurable:o,enumerable:a},n?xt(Et(n),s):s};var he=function(){var t=Math.sign;return typeof t!="function"?!1:t(10)===1&&t(-20)===-1},K,ct;function ye(){return ct||(ct=1,K=function(t){return t=Number(t),isNaN(t)||t===0?t:t>0?1:-1}),K}var pe=he()?Math.sign:ye(),_e=pe,ge=Math.abs,be=Math.floor,B=function(t){return isNaN(t)?0:(t=Number(t),t===0||!isFinite(t)?t:_e(t)*be(ge(t)))},ut="foo",ve=function(){return typeof ut.repeat!="function"?!1:ut.repeat(2)==="foofoo"},Q,dt;function ke(){if(dt)return Q;dt=1;var t=z,e=B;return Q=function(r){var o=String(t(this)),a;if(r=e(r),r<0)throw new RangeError("Count must be >= 0");if(!isFinite(r))throw new RangeError("Count must be < \u221E");for(a="";r;)r%2&&(a+=o),r>1&&(o+=o),r>>=1;return a},Q}var xe=ve()?String.prototype.repeat:ke(),Ee=B,we=z,Se=xe,$e=Math.abs,De=Math.max,Te=function(t){var e=String(we(this)),r=e.length,o=arguments[1];return o=isNaN(o)?1:Ee(o),t=Se.call(String(t),$e(o)),o>=0?t.slice(0,De(0,o-r))+e:e+(r+o>=0?"":t.slice(o+r))},Me=B,Ie=Math.max,wt=function(t){return Ie(0,Me(t))},je=Te,mt=wt,Oe=Number.prototype.toFixed,Fe=function(t){var e;return t=mt(t),e=mt(arguments[1]),je.call(e?Oe.call(this,e):this,"0",t+(e?1+e:0))},St=Object.prototype.toString,Ce=St.call(new Date),Ve=function(t){return t&&!isNaN(t)&&(t instanceof Date||St.call(t)===Ce)||!1},He=Ve,Ne=function(t){if(!He(t))throw new TypeError(t+" is not valid Date object");return t},qe=Date.prototype.getMonth,ze=function(){switch(qe.call(this)){case 1:return this.getFullYear()%4?28:29;case 3:case 5:case 8:case 10:return 30;default:return 31}},Be=Date.prototype.getTime,Le=function(){return new Date(Be.call(this))},Ae=Date.prototype.setHours,$t=function(){return Ae.call(this,0,0,0,0),this},Re=$t,Dt=function(){return Re.call(this).setDate(1),this},Ue=Dt,Pe=function(){return Ue.call(this).setMonth(0),this},Ye=function(t){return typeof t=="function"},Ge=Ye,ft=z,Je=Function.prototype.call,Ke=function(t){return t=Object(ft(t)),function(e){var r=this;return ft(r),e=String(e),e.replace(/%([a-zA-Z]+)|\\([\u0000-\uffff])/g,function(o,a,n){var s,c;if(n)return n;for(s=a;s&&!(c=t[s]);)s=s.slice(0,-1);return c?(Ge(c)&&(c=Je.call(c,r)),c+a.slice(s.length)):o})}},u=vt.exports,f=Fe,ht=Ne,Qe=ze,b=Le,yt=$t,T=Dt,pt=Pe,M=B,We=wt,Tt=q,l=Math.abs,Mt,_t,gt,C,x;Mt=Ke({y:function(){return String(l(this.year))},m:function(){return f.call(l(this.month),2)},d:function(){return f.call(l(this.day),2)},H:function(){return f.call(l(this.hour),2)},M:function(){return f.call(l(this.minute),2)},S:function(){return f.call(l(this.second),2)},L:function(){return f.call(l(this.millisecond),3)},ms:function(){return String(l(this.months))},ds:function(){return String(l(this.days))},Hs:function(){return String(l(this.hours))},Ms:function(){return String(l(this.minutes))},Ss:function(){return String(l(this.seconds))},Ls:function(){return String(l(this.milliseconds))},sign:function(){return this.to<this.from?"-":""}});x=function(t){return t.to<t.from?{to:t.from,from:t.to,sign:-1}:{to:t.to,from:t.from,sign:1}};C=H.exports=function(t,e){if(!(this instanceof C))return new C(t,e);this.from=ht(t),this.to=Tt(e)?ht(e):new Date};C.prototype=Object.create(Object.prototype,{valueOf:u(_t=function(){return this.to-this.from}),millisecond:u.gs(function(){return this.milliseconds%1e3}),second:u.gs(function(){return this.seconds%60}),minute:u.gs(function(){return this.minutes%60}),hour:u.gs(function(){return this.hours%24}),day:u.gs(function(){var t=x(this),e=t.to.getDate(),r=t.from.getDate(),o=t.to-yt.call(b.call(t.to))>=t.from-yt.call(b.call(t.from)),a;return e>r?(a=e-r,o||--a,t.sign*a):e===r&&o?0:(a=o?e:e-1,a+=Qe.call(t.from)-t.from.getDate(),t.sign*a)}),month:u.gs(function(){var t=x(this);return t.sign*((12-t.from.getMonth()+t.to.getMonth())%12-(t.from-T.call(b.call(t.from))>t.to-T.call(b.call(t.to))))}),year:u.gs(gt=function(){var t=x(this);return t.sign*(t.to.getFullYear()-t.from.getFullYear()-(t.from-pt.call(b.call(t.from))>t.to-pt.call(b.call(t.to))))}),milliseconds:u.gs(_t,null),seconds:u.gs(function(){return M(this.valueOf()/1e3)}),minutes:u.gs(function(){return M(this.valueOf()/(1e3*60))}),hours:u.gs(function(){return M(this.valueOf()/(1e3*60*60))}),days:u.gs(function(){return M(this.valueOf()/(1e3*60*60*24))}),months:u.gs(function(){var t=x(this);return t.sign*((t.to.getFullYear()-t.from.getFullYear())*12+t.to.getMonth()-t.from.getMonth()-(t.from-T.call(b.call(t.from))>t.to-T.call(b.call(t.to))))}),years:u.gs(gt),_resolveSign:u(function(t){return t&&this.to<this.from?"-":""}),_toStringDefaultDate:u(function(t,e,r){return!this.days&&t<0?this._resolveSign(r)+e:(t--<=0&&(e=l(r=this.day)+"d"+(e?" ":"")+e),!this.months&&t<0?this._resolveSign(r)+e:(t--<=0&&(e=l(r=this.month)+"m"+(e?" ":"")+e),(this.years||t>=0)&&(e=l(r=this.year)+"y"+(e?" ":"")+e),this._resolveSign(r)+e))}),_toStringDefault:u(function(t){var e="",r;return t--<=0&&(e+="."+f.call(l(r=this.millisecond),3)),!this.seconds&&t<0?this._resolveSign(r)+e:(t--<=0&&(r=this.second,e=(this.minutes?f.call(l(r),2):l(r))+e),!this.minutes&&t<0?this._resolveSign(r)+e:(t--<=0&&(r=this.minute,e=(this.hours||e?f.call(l(r),2):l(r))+(e?":":"")+e),!this.hours&&t<0?this._resolveSign(r)+e:(t--<=0&&(e=f.call(l(r=this.hour),2)+(e?":":"")+e),this._toStringDefaultDate(t,e,r))))}),_toString1:u(function(t){var e=[],r;return t--<=0&&e.unshift(l(r=this.millisecond)+"ms"),!this.seconds&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(l(r=this.second)+"s"),!this.minutes&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(l(r=this.minute)+"m"),!this.hours&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(l(r=this.hour)+"h"),!this.days&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(l(r=this.day)+"d"),!this.months&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(l(r=this.month)+"m"),!this.years&&t<0?this._resolveSign(r)+e.join(" "):(e.unshift(l(r=this.year)+"y"),this._resolveSign(r)+e.join(" ")))))))}),toString:u(function(t){var e;return Tt(t)||(t=0),isNaN(t)?Mt.call(this,t):(t=Number(t),e=We(arguments[1]),t===1?this._toString1(e):this._toStringDefault(e))})});const Xe={description:"",billable:0,start:null,end:null,duration:null,label_ids:[]},Ze={props:{current:{type:Array,default(){return[]}}},data(){return{now:new Date,running:!1,timeEntry:{description:"",billable:0,start:null,end:null,duration:null,label_ids:[]}}},mounted(){this.trackTime(),this.setCurrentTimer(this.current)},computed:{duration(){return this.timeEntry.duration||this.getDuration(!0)},timerButtonIcon(){return this.running?"fa-stop":"fa-play"},hasLabels(){return this.timeEntry.label_ids&&this.timeEntry.label_ids.length}},watch:{"timeEntry.description"(){this.timeEntry.start}},methods:{startTimer(){const t=D.exports.cloneDeep(this.timeEntry);t.start=p(new Date,"yyyy-MM-dd HH:mm:ss"),t.label_ids=JSON.stringify(this.timeEntry.label_ids),rt.post("/api/time-entries",t).then(({data:e})=>{this.running=!0,this.timeEntry=e.data}).catch(e=>{this.$notify({title:"Error",message:e.response.data.status.message,type:"error"})})},prepareForm(){const t=D.exports.cloneDeep(this.timeEntry);return t.start=p(this.timeEntry.start,"yyyy-MM-dd HH:mm:ss"),t.label_ids=JSON.stringify(this.timeEntry.label_ids),t},updateEntry(t){return t=t||this.prepareForm(),rt.put(`/api/time-entries/${this.timeEntry.id}`,t)},setCurrentTimer(t){if(t&&t.length){const e=t[0];this.running=!0,this.timeEntry=e}},stopTimer(){const t=D.exports.cloneDeep(this.timeEntry);t.end=p(new Date,"yyyy-MM-dd HH:mm:ss"),t.start=p(new Date(this.timeEntry.start),"yyyy-MM-dd HH:mm:ss"),t.label_ids=JSON.stringify(this.timeEntry.label_ids),t.status=1,t.duration=this.getDuration(),this.updateEntry(t).then(()=>{this.running=!1,this.resetTimer(),this.$emit("stopped")})},resetTimer(){this.timeEntry=D.exports.cloneDeep(Xe)},toggleTimer(){this.running?this.stopTimer():this.startTimer()},trackTime(){setInterval(()=>{this.now=new Date},1e3)},getDuration(t){let e=0;if(this.timeEntry.start){const r=p(new Date(this.timeEntry.start),"yyyy-MM-dd HH:mm:ss");e=new H.exports(new Date(r),this.now)}else{const r=new Date;e=new H.exports(r,r)}return t?e.toString("%H:%M:%S"):e.milliseconds},focusTagSelect(t){t.relatedTarget&&this.$refs.tagSelect.click()}}},w=t=>(Z("data-v-a54cac35"),t=t(),tt(),t),tr={class:"w-full py-4 bg-white card time-traker-form sm:px-6 lg:px-8"},er={class:"flex card-body"},rr={class:"w-2/4"},ir={class:"flex w-1/4"},nr={class:"flex time-tracker__relations"},sr={class:"time-tracker__billable-status custom-check-container"},ar=w(()=>i("i",{class:"fa fa-folder"},null,-1)),or=["checked"],lr=w(()=>i("div",{class:"dropdown-menu time-tracker__dd","aria-labelledby":"time-tracker-project-select"},null,-1)),cr={class:"time-tracker__billable-status custom-check-container"},ur=w(()=>i("i",{class:"fa fa-tag"},null,-1)),dr=["checked"],mr=w(()=>i("div",{class:"dropdown-menu time-tracker__dd","aria-labelledby":"time-tracker-tag-select"},null,-1)),fr={class:"time-tracker__billable-status custom-check-container"},hr=w(()=>i("i",{class:"fa fa-dollar-sign"},null,-1)),yr={class:"flex w-1/4"},pr={class:"flex time-tracker__controls"},_r=["disabled"];function gr(t,e,r,o,a,n){return d(),h("div",tr,[i("div",er,[i("div",rr,[m(i("input",{type:"text",class:"time-tracker__description",placeholder:"Let's track that!","onUpdate:modelValue":e[0]||(e[0]=s=>a.timeEntry.description=s)},null,512),[[V,a.timeEntry.description,void 0,{trim:!0}]])]),i("div",ir,[i("div",nr,[i("div",sr,[i("label",{for:"time-tracker-project",class:_(["custom-check",{selected:a.timeEntry.project_id}]),id:"time-tracker-project-select","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",tabindex:"0"},[ar,i("input",{type:"checkbox",name:"time-tracker-project",class:"hide",id:"time-tracker-project",checked:a.timeEntry.project_id},null,8,or)],2),lr]),i("div",cr,[i("label",{for:"time-tracker-billable",id:"time-tracker-tag-select",class:_(["custom-check dropdown-toggle",{selected:n.hasLabels}]),"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",tabindex:"0",ref:"tagSelect",onFocus:e[1]||(e[1]=(...s)=>n.focusTagSelect&&n.focusTagSelect(...s))},[ur,i("input",{type:"checkbox",name:"time-tracker-billable",class:"hide",id:"time-tracker-tags",checked:n.hasLabels},null,8,dr)],34),mr]),i("div",fr,[i("label",{for:"time-tracker-billable",class:_(["custom-check",{selected:a.timeEntry.billable}]),tabindex:"0"},[hr,m(i("input",{type:"checkbox",name:"time-tracker-billable",class:"hide",id:"time-tracker-billable","onUpdate:modelValue":e[2]||(e[2]=s=>a.timeEntry.billable=s)},null,512),[[v,a.timeEntry.billable]])],2)])])]),i("div",yr,[i("div",pr,[m(i("input",{type:"text",name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=s=>n.duration=s),disabled:"",class:"time-duration-display"},null,512),[[V,n.duration]]),i("button",{onClick:e[4]||(e[4]=s=>n.toggleTimer()),class:"play-button",disabled:!a.timeEntry.description},[i("i",{class:_(["fa",n.timerButtonIcon])},null,2)],8,_r)])])])])}const br=N(Ze,[["render",gr],["__scopeId","data-v-a54cac35"]]);const vr={props:{timeEntry:{type:Object,default(){return{description:"",billable:!1,start:null,end:null,duration:null}}}},data(){return{now:new Date,running:!1}},filters:{formatDateToTime(t){return p(new Date(t),"HH:mm:ss")}},computed:{duration(){return this.durationFromMs(this.timeEntry.duration)||this.localDuration},localDuration(){let t=0;return this.timeEntry.start?(t=new H.exports(new Date(this.timeEntry.start),new Date(this.timeEntry.end)),t.toString("%H:%M:%S")):"00:00:00"},timerButtonIcon(){return this.running?"stop":"play"},labels(){return this.timeEntry.labels?this.timeEntry.labels.map(t=>t.title).join(", "):""}},methods:{deleteItem(){this.showConfirm({title:`Delete ${this.timeEntry.description}`,content:"Are you sure you want to delete this entry?",confirmationButtonText:"Yes, delete",confirm:()=>{axios.delete(`time-entries/${this.timeEntry.id}`).then(()=>{this.$inertia.reload({only:["tracks"],preserveState:!0})})}})},durationFromMs(t){return new Date(t).toISOString().slice(11,-2).split(":").map(r=>Math.round(r).toString().padStart(2,"0")).join(":")},toggleTimer(){this.startTimer()}}},L=t=>(Z("data-v-1e33cf18"),t=t(),tt(),t),kr={class:"w-full time-tracker-item flex items-center bg-white px-8"},xr={class:"flex w-full"},Er={class:"w-2/5 flex items-center"},wr={class:""},Sr=["value"],$r={class:"time-tracker__billable-status custom-check-container"},Dr=L(()=>i("i",{class:"fa fa-folder"},null,-1)),Tr=["id"],Mr={class:"w--1/5 flex m-auto"},Ir={class:"time-tracker__relations flex"},jr={class:"time-tracker__billable-status custom-check-container"},Or=L(()=>i("i",{class:"fa fa-tag"},null,-1)),Fr={class:"time-tracker__billable-status custom-check-container"},Cr=L(()=>i("i",{class:"fa fa-dollar-sign"},null,-1)),Vr={class:"w-2/5 flex ml-auto"},Hr={class:"time-tracker__controls flex"},Nr={disabled:"",class:"flex items-center start-dates"},qr=L(()=>i("i",{class:"fa fa-trash"},null,-1)),zr=[qr];function Br(t,e,r,o,a,n){return d(),h("div",kr,[i("div",xr,[i("div",Er,[i("div",wr,[m(i("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=s=>r.timeEntry.selected=s),value:r.timeEntry.id},null,8,Sr),[[v,r.timeEntry.selected]])]),m(i("input",{type:"text",class:"time-tracker__description",placeholder:"Add description","onUpdate:modelValue":e[1]||(e[1]=s=>r.timeEntry.description=s)},null,512),[[V,r.timeEntry.description]]),i("div",$r,[i("label",{for:"time-tracker-billable",class:_(["custom-check",{selected:r.timeEntry.billable}])},[Dr,m(i("input",{type:"checkbox",name:"time-tracker-billable",class:"hide",id:`time-tracker-billable-${r.timeEntry.id}`,"onUpdate:modelValue":e[2]||(e[2]=s=>r.timeEntry.billable=s)},null,8,Tr),[[v,r.timeEntry.billable]])],2)])]),i("div",Mr,[i("div",Ir,[i("div",jr,[i("label",{for:"time-tracker-billable",class:_(["custom-check",{selected:r.timeEntry.billable}])},[Or,Ot(" "+g(n.labels)+" ",1),m(i("input",{type:"checkbox",name:"time-tracker-billable",class:"hide",id:"time-tracker-billable","onUpdate:modelValue":e[3]||(e[3]=s=>r.timeEntry.billable=s)},null,512),[[v,r.timeEntry.billable]])],2)]),i("div",Fr,[i("label",{for:"time-tracker-billable",class:_(["custom-check",{selected:r.timeEntry.billable}])},[Cr,m(i("input",{type:"checkbox",name:"time-tracker-billable",class:"hide",id:"time-tracker-billable","onUpdate:modelValue":e[4]||(e[4]=s=>r.timeEntry.billable=s)},null,512),[[v,r.timeEntry.billable]])],2)])])]),i("div",Vr,[i("div",Hr,[i("span",Nr,g(r.timeEntry.start|t.formatDateToTime)+" - "+g(r.timeEntry.end|t.formatDateToTime),1),m(i("input",{type:"text",name:"","onUpdate:modelValue":e[5]||(e[5]=s=>n.duration=s),disabled:"",class:"time-duration-display"},null,512),[[V,n.duration]]),i("button",{onClick:e[6]||(e[6]=s=>t.initTimer()),class:"play-button"},[i("i",{class:_(`fa fa-${n.timerButtonIcon}`)},null,2)]),i("button",{onClick:e[7]||(e[7]=s=>n.deleteItem()),class:"play-button"},zr)])])])])}const Lr=N(vr,[["render",Br],["__scopeId","data-v-1e33cf18"]]);const Ar={props:{timeEntry:{type:Object,default(){return{description:"",billable:!1,start:null,end:null,duration:null}}}},components:{TimeEntryItem:Lr},data(){return{now:new Date,isExpanded:!1,selected:!1}},filters:{formatDateToTime(t){return p(new Date(t),"HH:mm:ss")}},computed:{duration(){const t=this.timeEntry.tracks.reduce((e,r)=>e+=r.duration,0);return this.durationFromMs(t)}},methods:{durationFromMs(t){return new Date(t).toISOString().slice(11,-2).split(":").map(r=>Math.round(r).toString().padStart(2,"0")).join(":")},toggleExpand(){this.isExpanded=!this.isExpanded},toggleSelection(){this.selected,this.timeEntry.tracks.forEach(t=>t.selected=this.selected)}}},It=t=>(Z("data-v-c2b98492"),t=t(),tt(),t),Rr={key:0,class:"flex items-center w-full px-8 bg-white time-tracker-item"},Ur={class:"flex w-full"},Pr={class:"flex items-center w-2/5"},Yr={class:"mr-9"},Gr={class:"flex"},Jr={type:"text",class:"mr-2 time-tracker__description"},Kr={class:"flex w-3/5 ml-auto"},Qr={class:"flex time-tracker__controls"},Wr={disabled:"",class:"flex items-center start-dates"},Xr=["value"],Zr=It(()=>i("i",{class:"fa fa-play"},null,-1)),ti=[Zr],ei=It(()=>i("i",{class:"fa fa-th-list"},null,-1)),ri=[ei];function ii(t,e,r,o,a,n){const s=k("time-entry-item");return d(),h("div",null,[r.timeEntry.tracks.length>1?(d(),h("div",Rr,[i("div",Ur,[i("div",Pr,[i("div",Yr,[m(i("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=c=>a.selected=c),onChange:e[1]||(e[1]=(...c)=>n.toggleSelection&&n.toggleSelection(...c))},null,544),[[v,a.selected]])]),i("div",Gr,[i("div",{class:"time-tracker-item__count",onClick:e[2]||(e[2]=Ft(c=>n.toggleExpand(),["stop"]))},g(r.timeEntry.tracks.length),1),i("span",Jr,g(r.timeEntry.description),1)])]),i("div",Kr,[i("div",Qr,[i("span",Wr,g(r.timeEntry.tracks[0].start|t.formatDateToTime)+" - "+g(r.timeEntry.tracks[0].end|t.formatDateToTime),1),i("input",{type:"text",name:"",value:n.duration,disabled:"",class:"time-duration-display"},null,8,Xr),i("button",{onClick:e[3]||(e[3]=c=>t.initTimer()),class:"play-button"},ti),i("button",{onClick:e[4]||(e[4]=(...c)=>n.toggleExpand&&n.toggleExpand(...c)),class:"play-button"},ri)])])])])):W("",!0),bt(Ct,null,{default:X(()=>[r.timeEntry.tracks.length<=1||a.isExpanded?(d(!0),h(I,{key:0},j(r.timeEntry.tracks,c=>(d(),O(s,{"time-entry":c,key:c.id},null,8,["time-entry"]))),128)):W("",!0)]),_:1})])}const ni=N(Ar,[["render",ii],["__scopeId","data-v-c2b98492"]]);const si={name:"Integrations",components:{AppLayout:jt,TimeEntryForm:br,TimeEntryGroup:ni,BulkSelectionBar:Vt},props:{current:{type:Array,default(){return[]}},tracks:{type:Array,default(){return[]}},boards:{type:Array,default(){return[]}},boardTypes:{type:Array,default(){return[]}},boardTemplates:{type:Array,default(){return[]}}},created(){},data(){return{modes:["list","grid"],modeSelected:"list"}},computed:{trackGroup(){const t={};return this.tracks.forEach(e=>{const r=p(new Date(e.start),"yyyy-MM-dd");t[r]?t[r][e.description]?t[r][e.description].tracks.push(e):t[r][e.description]={id:`group-${e.id}`,description:e.description,tracks:[e]}:t[r]={[e.description]:{id:`group-${e.id}`,description:e.description,tracks:[e]}}}),t},selectedItems(){return this.tracks.filter(t=>t.selected).map(t=>t.id)}},methods:{reloadTracks(){this.$inertia.reload({preserveScroll:!0})},formattedDate(t){const e=Ht(t,"yyyy-MM-dd",new Date);return Nt(e)?"Today":p(e,"E, dd LLL yyyy")},confirmDeleteItems(t,e=!0){this.showConfirm({title:`Deleting ${t.length} tasks`,content:"Are you sure you want to delete these tasks?",confirmationButtonText:"Yes, delete",confirm:()=>{axios({url:"/api/time-entries/bulk/delete",method:"post",data:t}).then(()=>{this.$inertia.reload({preserveScroll:!0})})}})}}},ai=i("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Dashboard ",-1),oi={class:""},li={class:"flex mx-auto max-w-8xl"},ci={class:"mt-10 items-container"},ui={class:"flex justify-between px-8 mb-10 items-container__header"},di=i("span",{class:"text-3xl font-bold"}," Time entries ",-1),mi={class:"bg-purple-700 rounded-lg controls"},fi=["onClick"],hi={class:"px-8 items-container__list"},yi={class:"w-full py-4 pl-16 font-bold bg-white"};function pi(t,e,r,o,a,n){const s=k("time-entry-form"),c=k("time-entry-group"),S=k("bulk-selection-bar"),$=k("app-layout");return d(),O($,{boards:r.boards},{header:X(()=>[ai]),default:X(()=>[i("div",oi,[i("div",li,[bt(s,{current:r.current,onStopped:n.reloadTracks},null,8,["current","onStopped"])]),i("div",ci,[i("div",ui,[di,i("div",mi,[(d(!0),h(I,null,j(a.modes,y=>(d(),h("button",{key:y,onClick:A=>a.modeSelected=y,class:_([{"bg-purple-400":y==a.modeSelected},"h-full px-8 text-white capitalize rounded-lg"])},g(y),11,fi))),128))])]),i("div",hi,[(d(!0),h(I,null,j(n.trackGroup,(y,A)=>(d(),h("div",{key:A,class:"mb-12"},[i("div",yi,g(n.formattedDate(A)),1),(d(!0),h(I,null,j(y,et=>(d(),O(c,{"time-entry":et,key:et.id},null,8,["time-entry"]))),128))]))),128))])])]),n.selectedItems.length?(d(),O(S,{key:0,"selected-items":n.selectedItems,onDeletePressed:e[0]||(e[0]=y=>n.confirmDeleteItems(n.selectedItems,!0))},null,8,["selected-items"])):W("",!0)]),_:1},8,["boards"])}const Ii=N(si,[["render",pi]]);export{Ii as default};
